<!DOCTYPE html>
<html>
<head>
  <title>Newspaper Titles</title>
</head>
<body>
  <h1>Newspaper Titles</h1>
  <ul id="titles-list"></ul>

  <script>
    const url = 'https://corsproxy.io/?https://chroniclingamerica.loc.gov/newspapers/feed/';

    fetch(url)
      .then(response => response.text())
      .then(str => {
        const parser = new DOMParser();
        const xml = parser.parseFromString(str, 'application/xml');

        const items = xml.getElementsByTagName('item');
        const list = document.getElementById('titles-list');

        if (items.length === 0) {
          list.innerHTML = '<li>No newspaper titles found.</li>';
        } else {
          for (let i = 0; i < items.length; i++) {
            const title = items[i].getElementsByTagName('title')[0].textContent;
            const link = items[i].getElementsByTagName('link')[0].textContent;

            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = link;
            a.textContent = title;
            a.target = "_blank";

            li.appendChild(a);
            list.appendChild(li);
          }
        }
      })
      .catch(error => {
        console.error('Error fetching data:', error);
        document.getElementById('titles-list').innerHTML = '<li>Failed to load titles.</li>';
      });
  </script>
</body>
</html>
