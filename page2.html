<!DOCTYPE html>
<html>
<head>
  <title>Newspaper Titles</title>
</head>
<body>
  <h1>Newspaper Titles</h1>
  <div id="output">Loading...</div>

  <script>
    async function fetchTitles() {
      const apiUrl = "https://chroniclingamerica.loc.gov/newspapers.json";

      try {
        const response = await fetch(apiUrl);
        if (!response.ok) {
          throw new Error("Network response was not ok");
        }

        const data = await response.json();
        const titles = data.newspapers;
        
        const outputDiv = document.getElementById("output");
        outputDiv.innerHTML = "";

        if (titles && titles.length > 0) {
          titles.forEach((item) => {
            const p = document.createElement("p");
            p.textContent = item.title;
            outputDiv.appendChild(p);
          });
        } else {
          outputDiv.textContent = "No newspaper titles found.";
        }
      } catch (error) {
        console.error("Error fetching data:", error);
        document.getElementById("output").textContent = "Failed to load titles.";
      }
    }

    fetchTitles();
  </script>
</body>
</html>
