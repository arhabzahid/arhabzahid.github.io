<!DOCTYPE html>
<head>
    <title>Cat Facts</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        img {
            max-width: 300px;
            margin-top: 20px;
        }
    </style>

</head>
<body>
   <h1> Cats Facts</h1>
   <button onclick ="fetchCatsFacts()">Load </button>
   <button onclick ="postCAtFacts()">Post </button>
   <br>
   <img id >
   <table>
    <tr>
        <th>ID</th>
        <th>Facts</th>
        <tbody> id= "Cats Fact Table"</tbody>
    </tr>
   </table>
   <script>
    async function fetchCatsFacts(){
        const url = 'https://brianobruno.github.io/cats.json';
        const options ={
            method:'GET'
        };
        try {
            const response = await fetch (url, options);
            const data = await response.json();
            document.getElementById('catImage').src = data.image;
            let sortedFacts = data.facts.sort((a, b) => a.factId -b.factId);
            let tableBody = document.getElementById('factsTable');
            tableBody.innerHTML="";
            sortedFacts.forEach(fact=>{
                let row = `<tr><td>${fact.factId}</td><td>${fact.text}</td></tr>`;
                tableBody.innerHTML +=row;

            });
        }catch(error){
            console.error('error:', error);
        }
    }
    async function postCAtFacts(){
        const url ='';
        const newFact={
            factId: Math.floor(Math.random() * 100) + 1,
            text:"Cats LOves sleeping all day!"
        };
const options ={
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body:JSON.stringify(newFact)
};
try{
    const response =await fetch(url, options);
    const result = await response.json();
    console.log('Fact posted', result);

}catch (error){
    console.error('error:', error);
}


    }
   </script>


</body>
</html>
